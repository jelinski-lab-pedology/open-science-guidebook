<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.636">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Open Science: Tools Applications, &amp; Workflow - 10&nbsp; Reproducibly Pulling Raw Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05c-standardizing-formats.html" rel="next">
<link href="./05-data-munging.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Reproducibly Pulling Raw Data</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Open Science: Tools Applications, &amp; Workflow</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./02-project-setup.html" class="sidebar-item-text sidebar-link">Project Setup and Documentation</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02a-para-system.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview of the PARA system</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02b-project-subfolder-structure.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Project Subfolder Structure</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02c-writing-readmes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Writing Readmes - Your First Assignment</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02d-github-setup-workflow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Getting Your Project on GitHub: Standards and Workflow</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02e-integrating-zotero.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Setting Up Zotero for Your Project - Early Success with Writing and Reference Management</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./03-pre-data-raw-data.html" class="sidebar-item-text sidebar-link">"Pre-Data" and Raw Data: Setting Up and Executing Raw Data Collection and Curation Infrastructure for Different Project Types</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03a-field-projects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Field Projects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03b-lab-projects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Laboratory Projects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03c-review-projects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Review Projects #todo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03d-data-synthesis-projects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Synthesis Projects #todo - ask Hava for opinions as she is an expert</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./05-data-munging.html" class="sidebar-item-text sidebar-link">Data Munging</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05a-pulling-raw-data.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Reproducibly Pulling Raw Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05c-standardizing-formats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Standardizing Formats #todo</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./09-style-guides-and-standards.html" class="sidebar-item-text sidebar-link">Jelinski Lab Style Guides and Standards</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09a-r-style-guide.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Jelinski Lab R code Style Guide and Standards</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#where-to-put-your-raw-data" id="toc-where-to-put-your-raw-data" class="nav-link active" data-scroll-target="#where-to-put-your-raw-data"> <span class="header-section-number">10.1</span> Where to put your raw data</a></li>
  <li><a href="#how-to-reproducibly-pull-raw-data-into-your-workflow" id="toc-how-to-reproducibly-pull-raw-data-into-your-workflow" class="nav-link" data-scroll-target="#how-to-reproducibly-pull-raw-data-into-your-workflow"> <span class="header-section-number">10.2</span> How to reproducibly pull raw data into your workflow</a>
  <ul class="collapse">
  <li><a href="#reproducibly-pulling-data-that-is-your-own-or-is-not-accessible-by-doi" id="toc-reproducibly-pulling-data-that-is-your-own-or-is-not-accessible-by-doi" class="nav-link" data-scroll-target="#reproducibly-pulling-data-that-is-your-own-or-is-not-accessible-by-doi"> <span class="header-section-number">10.2.1</span> Reproducibly pulling data that is your own or is not accessible by DOI</a></li>
  <li><a href="#reproducibly-pulling-data-that-is-not-your-own-or-is-accessible-by-doi" id="toc-reproducibly-pulling-data-that-is-not-your-own-or-is-accessible-by-doi" class="nav-link" data-scroll-target="#reproducibly-pulling-data-that-is-not-your-own-or-is-accessible-by-doi"> <span class="header-section-number">10.2.2</span> Reproducibly pulling data that is not your own or is accessible by DOI</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Reproducibly Pulling Raw Data</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>The first step in data munging is ensuring your raw data files are placed within the standardized folder structure and reproducibly pulling your raw data into R.</p>
<section id="where-to-put-your-raw-data" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="where-to-put-your-raw-data"><span class="header-section-number">10.1</span> Where to put your raw data</h2>
<p>Any raw data you generated should live in the following place in our standardized project repository:</p>
<p>./00-data/a-raw</p>
<p>Any data in raw data that is not your own and IS NOT findable by DOI or in an existing long term data repository should either be in an /external-sources subdirectory of the ./00-data/a-raw/ directory, which contains a metadata file that details the source of each of the external data sources. Raw data that IS findable in an existing long-term data repository by DOI should be reproducibly pulled in by script (see below).</p>
</section>
<section id="how-to-reproducibly-pull-raw-data-into-your-workflow" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="how-to-reproducibly-pull-raw-data-into-your-workflow"><span class="header-section-number">10.2</span> How to reproducibly pull raw data into your workflow</h2>
<p>The way in which you reproducibly pull raw data into your workflow depends on whether: 1) you generated it or it is an external datasources that is not openly finadable and accessible by DOI or 2) it is an external datasource that is openly accessible and findable by DOI.</p>
<section id="reproducibly-pulling-data-that-is-your-own-or-is-not-accessible-by-doi" class="level3" data-number="10.2.1">
<h3 data-number="10.2.1" class="anchored" data-anchor-id="reproducibly-pulling-data-that-is-your-own-or-is-not-accessible-by-doi"><span class="header-section-number">10.2.1</span> Reproducibly pulling data that is your own or is not accessible by DOI</h3>
<p>Even though the project directory template already contains a .Rproj file, you should always use the here::here function in the <a href="https://here.r-lib.org/">here package in R</a> when referencing file locations in your project repo - there are excellent reasons for using both .Rproj and here::here - when combined these are a powerful way to guarantee there won’t be any issues with other users running your code due to directory issues. <a href="https://www.rstudio.com/authors/malcolm-barrett/">Malcom Barrett</a> gave an an excellent talk at the <a href="https://user2020.r-project.org/program/contributed/">useR! 2020 conference</a> entitled <a href="https://m.youtube.com/watch?v=QYrdsjBvZN4">“Why use the <em>here</em> package when you’re already using projects?”</a>. The .Rproj file contained in this tenplate is pre-configured to start with a <em>completely clean workspace EVERY TIME</em> by selecting in <em>Project Options &gt; General</em> “Restore .RData into workspace at startup” = NO and “Save workspace to .RData on exit” = NO, “Disable .Pprofile execution on session start/resume” = CHECKED, “Quit child processes on exit” = CHECKED. These two options combined will also ensure that others running your code (or even you at a later date) don’t experience errors or conflictions due to <a href="https://alexd106.github.io/intro2R/project_setup.html">workspace-specific background</a> - this is often the cause of the following issue: “I swear…my code worked the last time I ran it and I didn’t change anything!”. This will also avoid <a href="https://jennybryan.org/">Jenny Bryan</a> coming into your office and <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">setting your computer on fire</a>.</p>
</section>
<section id="reproducibly-pulling-data-that-is-not-your-own-or-is-accessible-by-doi" class="level3" data-number="10.2.2">
<h3 data-number="10.2.2" class="anchored" data-anchor-id="reproducibly-pulling-data-that-is-not-your-own-or-is-accessible-by-doi"><span class="header-section-number">10.2.2</span> Reproducibly pulling data that is not your own or is accessible by DOI</h3>
<p>Any data sources required for your workflow that are open and accessible by DOI should be pulled into your workflow reproducibly by using the <a href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/download.file">download.file</a> and if necessary the <a href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/unzip">unzip</a> functions in R utils. This data should be placed in either the ./00-data/a-raw folder if it needs to be further munged or in the ./00-data/b-prepared/ folder if it is ready to be used immediately in your workflow.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Required Tools - Data Munging
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>R/RStudio</li>
</ul>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05-data-munging.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data Munging</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05c-standardizing-formats.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Standardizing Formats #todo</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>